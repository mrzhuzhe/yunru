# 海康威视萤石云项目分析

1. 3万摄像头，内容为用户进入门店的视频监控
2. 监控摄像头为海康威视萤石云，客户可能已经接入了萤石云平台，应该要在萤石云上开发
3. 摄像头布置位置可能不太规律

# 海康威视萤石云功能文档

1. 萤石云-客流量监控部分文档：https://open.ys7.com/doc/zh/book/index/device_flow.html#device_flow-api4
2. 海康威视本身有客户流量监控的功能 ， 需要在“客户端设备” 上标定监控的门店位置为一个方框，设备就能在客户端自动统计 “入” 和 “出” 的人数
3. 演示：https://www.youtube.com/watch?v=qDK6nLdm3sQ&t=101s
4. 没有同一人反复进出的功能，但是如果同一人在方框之内反复徘徊，并不会被重复统计，只有进出方框才会触发统计

# 成本

1. 官网定价： https://open.ys7.com/price.html 这是监控流量本身的成本，客户应该已经出了
2. 流量预估： 按照每个摄像头每秒 0.1Mbs * 30k 摄像头 = 3000Mbs
3. 算法本身： 单核cpu 0.03mm左右 处理一帧 ，10核处理处理单台一天的5-10g数据大约需要0.5到1小时

# 结论
1. 用户进出的算法我们可以开发，开发成本不高
2. “需要统计反复进入”的需求：同一用户如果离开监控区域，就没法当作同一用户来处理，除非预先把用户存下来
3. 算法本身部署成本很高，需要按流量仔细和算法效率仔细评估
